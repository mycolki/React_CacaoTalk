## 카카오스타일 과제

<br />

## 필수 요구 사항

필수 요구사항에 정의된 모든 기능 구현을 완료했습니다.

- 채팅목록

  - 각 채팅목록에는 최근 전송한 메세지, 읽지 않은 메세지 갯수, 마지막 메세지 전송 시간을 표시해 주세요.

- 채팅방

  - 메세지 전송 시간은 hh:mm 포맷으로 보여주세요.
  - 한 사람이 1분 동안 메세지를 연속해서 보낸다면, 마지막 메세지만 전송 시간을 표시해 주세요.
  - 날짜가 바뀌면 날짜 구분선을 표시해 주세요.
  - 사진 전송 기능을 구현해 주세요.

## 추가 명세 정의

요구 사항에 정의되어 있지 않은 부분은, 애플리케이션의 사용 조건을 가정하여 명세를 정의하고 개발했습니다.

### 채팅 목록 (ChatRoomList)

- 채팅 목록은 최근 전송 시간순으로 정렬됩니다.
- 메세지 전송 시간에 따른 표시 방법
  |전송 날짜(당일 기준)|표시 방법|예시|
  |:---|:---|:---|
  |당일|`hh:mm`, 시간대를 구분할 수 있도록, `오전`/`오후` 문구를 추가합니다.|오후 06:30|
  |하루 전|`어제`|어제|
  |7일이 지나기 전|해당 `요일`로 표시합니다.|일요일|
  |7일이 지난 이후|`M월 DD일`로 표합됩니다.|2월 13일|
  |이전 연도|`YYYY.M.DD` 로 표시합니다.|2021.2.13|
- 메세지 타입에 따른 마지막 메세지 문구 표시 방법
  |메세지 타입|표시 방법|예시|
  |:---|:---|:---|
  |Text|실제 메세지 문구 표시. 단, 긴 문장 뒤엔 `...` 말줄입 기호로 표시됩니다.|휴가에서 언제 돌아오시는지요. 돌아오시면...|
  |Image|`사진을 보냈습니다.` 로 표시됩니다.|사진을 보냈습니다.|
- 채팅 목록 화면 진입시, 좌측에서 우측으로 슬라이드되는 애니메이션.
  - 채팅룸 목록 아이템의 프로필 사진.
  - 채팅룸 목록 아이템 정보.

### 채팅방 (ChatRoom)

- 스크롤 핸들링

  - 챗 개수가 화면 높이 이상으로 많아질 경우, 스크롤이 활성화됩니다.
  - 챗 개수가 화면 높이 이상으로 많은 방에 진입하면, 스크롤을 최하단으로 이동시켜서 사용자는 최근 메세지를 확인할 수 있어야 합니다.
  - 갤러리가 보일 때, 채팅 영역은 스크롤할 수 있어야 합니다.
  - 갤러리의 사진을 클릭했을 때, 사진이 전송되며 스크롤이 최하단으로 이동됩니다. 사용자는 전송중인 사진 전체를 확인할 수 있어야 합니다.

- 갤러리 사진 전송
  - 사진 전송 버튼을 누르면, 상단에 갤러리가 열립니다.
  - 사진이 전송되는 정도를 Progressbar 로 확인할 수 있습니다. 사진을 전송하는데 걸리는 시간은 약 3초 입니다.
  - 갤러리가 열려 있을 때 선택한 사진은 전송이 완료되면 갤러리에서 사라지지만, 갤러리를 닫고 다시 열면 가지고 있는 모든 사진이 보입니다.
- 애니메이션
  - 헤더의 사진 업로드 버튼 클릭시, 사진 갤러리가 아래로 슬라이드되는 애니메이션을 구현했습니다.
  - 채팅방 화면 진입시, 상대방과 본인의 메세지가 우측에서 좌측으로 슬라이드 되는 애니메이션을 구현했습니다.
- 읽지 않은 메세지 개수 표시가 있는 채팅방에 들어가면, 채팅목록의 읽지 않은 메세지 개수 표시가 사라져야 합니다.
- 날짜가 바뀌더라도, 메세지 전송시간은 `hh:mm` 으로 표시되며, 시간대를 구분할 수 있도록, `오전`/`오후` 문구를 추가했습니다.
- 채팅방에 진입시 메세지 폼에 자동으로 포커싱 되어 있습니다.
- 메세지의 가로폭은 일정 사이즈 이상 커질 수 없습니다.
- 메세지 폼에 값을 입력하지 않으면 메세지 전송 버튼이 비활성화됩니다.

### 공통 명세

- 채팅방의 최대 인원은 본인을 포함해서 2명입니다.
- 화면에 컨텐츠가 많을 경우 스크롤 기능이 활성화 됩니다.
- 채팅 목록 및 채팅창 영역에 호버할 때만, 스크롤바가 나타납니다.
- 서버에서 받는 채팅 목록 데이터는 최근 전송 시간 순으로 정렬되어 있습니다.
- 서버의 응답은 항상 성공하는 것으로 가정해서 개발했습니다.

<br />

## Features

## Stack

코어 : React, TypeScript

상태관리 : React-Query, React-Context

스타일링 : Emotion

패키지 매니저 : Yarn

코드 스타일 : Eslint, Husky, Prettier

<br />

## Installation

### 실행 환경

- nodejs 14
- iOS 13.0
- android 10

### 실행 방법

- .env 환경변수 파일을 만들고, 다음 환경변수를 입력해 주세요.

  ```ts
  REACT_APP_HOST_URL = 'http://localhost:3000';
  ```

- 프로젝트 내부에서 패키지를 설치합니다.

  ```ts
  $ yarn
  ```

- 로컬 환경에서 서버를 실행합니다.

  🔗 URL : [http://localhost:3000](http://localhost:3000)

  ```ts
  $ yarn start
  ```

  <br />

## Work Flow

- Stack 선정 (심플)
  - Context
  - React-Query
- 구현 플로우, 왜 , 어떻게 대충
- 서버에 데이터를 요청해 받아오는 가상의 메소드 구현한거 어떤식으로 햇는지
- 서버 UTC포맷 저장, 사용시 로컬 시간으로 변경.
- 에러바운더리
- 유저getUser

<br />

## Contact

**🖥 github : [https://github.com/mycolki](https://github.com/mycolki)**

**📩 email : [mycolki@gmail.com](mailto:mycolki@gmail.com)**

**📱 phone : 010-9922-0213**

<br />
